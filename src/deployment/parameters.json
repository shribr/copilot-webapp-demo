{
  "aiHubConnections": [
    {
      "Name": "AIService"
    },
    {
      "Name": "OpenAIService"
    },
    {
      "Name": "StorageAccount"
    },
    {
      "Name": "SearchService"
    }
  ],
  "aiHubName": "hub-ai-copilot-demo-003",
  "aiHubProjectName": "project-ai-copilot-demo-003",
  "aiModelDeploymentName": "ai-deployment-copilot-demo-003",
  "aiModelFormat": "OpenAI",
  "aiModelName": "ai-model-copilot-demo-003",
  "aiModelSkuCapacity": 100,
  "aiModelSkuName": "Standard",
  "aiModelType": "gpt-4o",
  "aiModelVersion": "2024-08-06",
  "aiModels": [
    {
      "ApiKey": "xxx",
      "ApiVersion": "2024-08-01-preview",
      "Format": "OpenAI",
      "ModelVersion": "2024-08-06",
      "Name": "gpt-4o",
      "Sku": {
        "Capacity": 100,
        "Name": "Standard"
      },
      "Type": "gpt-4o"
    },
    {
      "ApiKey": "xxx",
      "ApiVersion": "2023-05-15",
      "Format": "OpenAI",
      "ModelVersion": "1",
      "Name": "text-embedding",
      "Sku": {
        "Capacity": 100,
        "Name": "Standard"
      },
      "Type": "text-embedding-3-large"
    }
  ],
  "aiProjectName": "project-ai-copilot-demo-003",
  "aiServiceApiVersion": "2024-08-01-preview",
  "aiServiceName": "ai-service-copilot-demo-003",
  "aiServiceProperties": {
    "ApiKey": "5c25eb463aa8431588b6d0f22f0ba417",
    "ApiVersion": "2024-08-01-preview",
    "Endpoint": "https://ai-service-copilot-demo-003.cognitiveservices.azure.com/",
    "Name": "ai-service-copilot-demo-003",
    "ServiceName": "ai-service-copilot-demo-003",
    "Type": "azure_ai_services",
    "YamlFileName": "ai.connection.yaml"
  },
  "answerGenerationConfig": {
    "ExcludeCategories": "[]",
    "IncludedDataSources": {
      "AzureStorage": false,
      "FileShare": false,
      "RelationalDatabase": false,
      "Spreadsheet": false,
      "StructuredData": false
    },
    "NumDocsToRetrieve": 5,
    "OverridePromptTemplate": "false",
    "RetrievalModel": ["text", "hybrid", "vector"],
    "SuggestFollowupQuestions": "true",
    "UseQueryContextualSummaries": "true",
    "UseSemanticRankerForRetrieval": "true"
  },
  "apiManagementService": {
    "ApiId": "Standard",
    "Display": "apim-copilot-demo-003",
    "Location": "east us",
    "Name": "apim-copilot-demo-003",
    "Path": "/path",
    "PublisherEmail": "amschrei@microsoft.com",
    "PublisherName": "Ami Schreiber",
    "ResourceGroup": "RG-COPILOT-DEMO-003",
    "SubscriptionKey": "0852bc1efcd14e89bcbc8b4fd7354caf"
  },
  "appRegistrationClientId": "18f666b1-a578-40b5-81bd-678c86783715",
  "appRegRequiredResourceAccess": [
    {
      "resourceAppId": "cfa8b339-82a2-471a-a3c9-0fc0be7a4093",
      "resourceAccess": [
        {
          "id": "f53da476-18e3-4152-8e01-aec403e6edc0",
          "type": "Scope"
        }
      ]
    },
    {
      "resourceAppId": "00000003-0000-0000-c000-000000000000",
      "resourceAccess": [
        {
          "id": "e1fe6dd8-ba31-4d61-89e7-88639da4683d",
          "type": "Scope"
        }
      ]
    }
  ],
  "appDeploymentOnly": true,
  "appInsightsName": "appi-copilot-demo-003",
  "appServiceEnvironmentName": "ase-copilot-demo-003",
  "appServicePlanName": "asp-copilot-demo-003",
  "appServicePlanSku": "I1V2",
  "appServices": [
    {
      "AppServicePlan": "asp-copilot-demo-003",
      "DeletePackageAfterDeploy": true,
      "DeployZipPackage": true,
      "Location": "east us",
      "Name": "app-copilot-demo-003",
      "Path": "app/frontend",
      "ResourceGroup": "RG-COPILOT-DEMO-003",
      "Runtime": "NODE:20LTS",
      "Type": "Web",
      "Url": "https://app-copilot-demo-003.azurewebsites.net"
    },
    {
      "AppServicePlan": "asp-copilot-demo-003",
      "DeletePackageAfterDeploy": true,
      "DeployZipPackage": true,
      "Location": "east us",
      "Name": "func-copilot-demo-003",
      "Path": "app/functions/apikeys",
      "ResourceGroup": "RG-COPILOT-DEMO-003",
      "Runtime": "dotnet-isolated",
      "Type": "Function",
      "Url": "https://func-copilot-demo-003.azurewebsites.net"
    }
  ],
  "appendUniqueSuffix": false,
  "azureServices": [
    {
      "Description": "",
      "Location": "",
      "Name": "crcopilotdemo003-copilot-demo-003",
      "ReplicationLocations": {
        "Location1": "",
        "Location2": "",
        "Location3": ""
      },
      "Tags": {
        "Description": ""
      },
      "Type": "Container Registry",
      "YamlFileName": "container.registry.yaml"
    },
    {
      "ApplicationInsightsName": "appi-copilot-demo-003",
      "ContainerRegistryName": "crcopilotdemo003",
      "Description": "This configuration specifies a project configuration with existing dependent resources",
      "DisplayName": "AI Hub Copilot Demo Project",
      "KeyVaultName": "kv-copilot-demo-003",
      "Location": "east us",
      "Name": "project-ai-copilot-demo-003",
      "StorageAccountName": "stcopilotdemo003",
      "Tags": {
        "Purpose": ""
      },
      "Type": "AI Project",
      "YamlFileName": "ai.project.yaml"
    },
    {
      "Api-Version": "2024-08-01-preview",
      "Description": "AIService",
      "Endpoint": "https://srch-copilot-demo-003.cognitiveservices.azure.com/",
      "Key": "xxx",
      "Name": "ai-service-copilot-demo-003",
      "Type": "azure_ai_services",
      "YamlFileName": "ai.connection.yaml"
    },
    {
      "AIServicesResourceID": "",
      "ApiKey": "xxx",
      "ApiVersion": "2024-11-01-preview",
      "Description": "SearchService",
      "Endpoint": "https://srch-copilot-demo-003.search.windows.net",
      "Name": "srch-copilot-demo-003",
      "Type": "azure_ai_search",
      "YamlFileName": "search.connection.yaml"
    },
    {
      "AccountName": "stcopilotdemo003",
      "ApiVersion": "2023-11-01",
      "ContainerName": "azureml",
      "Credentials": {
        "AccountKey": "xxx",
        "SasToken": "xxx"
      },
      "Description": "StorageService",
      "Name": "stcopilotdemo003",
      "Type": "azure_blob",
      "Url": "https://stcopilotdemo003.blob.core.windows.net/azureml",
      "YamlFileName": "storage.connection.yaml"
    }
  ],
  "blobStorageAccountName": "blob-copilot-demo-003",
  "blobStorageContainerName": "content",
  "blobStrorageDatasourceName": "blob-datasource-copilot-demo-003",
  "chatPersonas": [
    {
      "Description": "You are a teenage girl who is very passionate about fashion and beauty. You love to share your thoughts and opinions on the latest trends and products. You are also very creative and love to express yourself through art and music.",
      "Prompt": "You are a teenage girl. You are very perky and enthusiastic.",
      "Type": "Teenage Girl"
    },
    {
      "Description": "You are a New Yorker who loves to talk about the latest news and events in the city. You are very knowledgeable about the local culture and history. You are also very friendly and love to meet new people.",
      "Prompt": "You are a stereotypical guy from Long Island, New York.",
      "Type": "New Yorker"
    },
    {
      "Description": "You are a tech enthusiast who loves to talk about the latest tech trends and gadgets. You are very knowledgeable about the latest tech news and tips. You are also very friendly and love to meet new people.",
      "Prompt": "You area a huge nerd. You talk about the topic at hand but not with much enthusiasm You come off as obnoxious, sarcastic and condescending.",
      "Type": "Tech Enthusiast"
    },
    {
      "Description": "You are a foodie who loves to talk about the latest food trends and recipes. You are very knowledgeable about the latest restaurants and cafes in the city. You are also very friendly and love to meet new people.",
      "Prompt": "You are a foodie who is constantly comparing every topic to food.",
      "Type": "Foodie"
    },
    {
      "Description": "You are a world traveler who loves to talk about the latest travel trends and destinations. You are very knowledgeable about the latest travel tips and tricks. You are also very friendly and love to meet new people.",
      "Prompt": "You are a world traveler who can't stop talking about her vacations",
      "Type": "Traveler"
    },
    {
      "Description": "You are a fitness enthusiast who loves to talk about the latest fitness trends and workouts. You are very knowledgeable about the latest fitness tips and tricks. You are also very friendly and love to meet new people.",
      "Prompt": "You are a fitness enthusiast and are always bragging about your workouts.",
      "Type": "Fitness Enthusiast"
    },
    {
      "Description": "You are a business professional who loves to talk about the latest business trends and strategies. You are very knowledgeable about the latest business tips and tricks. You are also very friendly and love to meet new people.",
      "Prompt": "You are a business professional and are always talking about how you're doing in the stock market.",
      "Type": "Business Professional"
    },
    {
      "Description": "You are a helpful assistant who loves to help people with their questions and problems. You are very knowledgeable and love to share your knowledge with others.",
      "Prompt": "You are a helpful assistant.",
      "Type": "Default"
    }
  ],
  "cognitiveServiceApiVersion": "2024-10-01",
  "cognitiveServiceName": "cog-copilot-demo-003",
  "computerVisionName": "cv-copilot-demo-003",
  "configFilePath": "app/frontend/config.json",
  "containerAppName": "ca-copilot-demo-003",
  "containerAppsEnvironmentName": "cae-copilot-demo-003",
  "containerRegistryName": "crcopilotdemo003",
  "containerRegistryProperties": {
    "Description": "",
    "Location": "",
    "Name": "",
    "ReplicationLocations": {
      "Location1": "",
      "Location2": "",
      "Location3": ""
    },
    "Tags": {
      "Description": ""
    },
    "YamlFileName": "container.registry.yaml"
  },
  "cosmosDbAccountName": "cosmos-copilot-demo-003",
  "createResourceGroup": true,
  "deleteResourceGroup": false,
  "deployZipResources": true,
  "documentIntelligenceName": "docintel-copilot-demo-003",
  "domainName": "azurewebsites.net",
  "eventHubNamespaceName": "eh-copilot-demo-003",
  "exposeApiScopes": [
    {
      "adminConsentDescription": "Allow the application to access the API on behalf of the signed-in user.",
      "adminConsentDisplayName": "Access API as user",
      "userConsentDescription": "Allow the application to access the API on your behalf.",
      "userConsentDisplayName": "Access API as user",
      "value": "access_as_user"
    },
    {
      "adminConsentDescription": "Allow the application to read data from the API.",
      "adminConsentDisplayName": "Read data from API",
      "userConsentDescription": "Allow the application to read data from the API on your behalf.",
      "userConsentDisplayName": "Read data from API",
      "value": "read_data"
    }
  ],
  "functionServiceProperties": {},
  "keyVaultName": "kv-copilot-demo-003",
  "keyVaultApiVersion": "7.5",
  "location": "east us",
  "logAnalyticsWorkspaceName": "log-copilot-demo-003",
  "machineLearningProperties": {
    "ApplicationInsightsName": "appi-copilot-demo-003",
    "ContainerRegistryName": "crcopilotdemo003",
    "Description": "This configuration specifies a project configuration with existing dependent resources",
    "DisplayName": "AI Hub Copilot Demo Project",
    "KeyVaultName": "kv-copilot-demo-003",
    "Location": "east us",
    "Name": "ml-copilot-demo-003",
    "StorageAccountName": "stcopilotdemo003",
    "Tags": {
      "Purpose": ""
    },
    "YamlFileName": "ai.project.yaml"
  },
  "machineLearningWorkspaceName": "ml-copilot-demo-003",
  "managedIdentityName": "id-copilot-demo-003",
  "openAIAccountName": "openai-copilot-demo-003",
  "openAIApiVersion": "2024-08-01-preview",
  "openAIServiceProperties": {
    "ApiKey": "f622a933e72049049ac0af3dcfd90db1",
    "ApiVersion": "2024-08-01-preview",
    "Endpoint": "https://ai-service-copilot-demo-003.openai.azure.com/",
    "Name": "ai-service-copilot-demo-003_aoai",
    "ServiceName": "ai-service-copilot-demo-003",
    "Type": "azure_open_ai",
    "YamlFileName": "openai.connection.yaml"
  },
  "organizationInfo": {
    "Contact": {
      "Email": "",
      "Name": "Ami Schreiber",
      "Phone": ""
    },
    "Description": "Contoso is a software company that specializes in AI and ML solutions.",
    "Location": {
      "Address": "One Microsoft Way",
      "City": "Redmond",
      "Country": "USA",
      "State": "WA",
      "Zip": "98052"
    },
    "Name": "Contoso",
    "Social": {
      "Facebook": "",
      "GitHub": "",
      "Instagram": "",
      "LinkedIn": "https://www.linkedin.com/in/amischreiber/",
      "Twitter": "https://twitter.com/amschrei"
    },
    "Website": "https://www.contoso.com"
  },
  "portalDashboardName": "portaldash-copilot-demo-003",
  "previousResourceBaseName": "copilot-demo-005",
  "privateEndpoints": [
    {
      "Location": "east us",
      "Name": "pe-copilot-demo-003",
      "PrivateConnection": {
        "Name": "pc-copilot-demo-003",
        "PrivateConnectionDescription": "Private connection to SQL Server",
        "PrivateConnectionName": "pc-copilot-demo-003",
        "PrivateConnectionStatus": "Approved",
        "PrivateConnectionType": "sql"
      },
      "ResourceGroup": "RG-COPILOT-DEMO-003",
      "Subnet": "subnet-copilot-demo-003"
    }
  ],
  "redeployResources": false,
  "redisCacheName": "redis-copilot-demo-003",
  "resourceBaseName": "copilot-demo-003",
  "resourceGroupName": "RG-COPILOT-DEMO-003",
  "resourceSuffix": 1,
  "restoreSoftDeletedResources": true,
  "searchApiVersion": "2024-11-01-preview",
  "searchAzureOpenAIModel": true,
  "searchDataSourceName": "srch-datasource-copilot-demo-003",
  "searchEndpoint": "https://srch-copilot-demo-003.search.windows.net",
  "searchIndexFieldNames": "id,content,category,sourcepage,sourcefile,embedding",
  "searchIndexName": "srch-index-copilot-demo-003",
  "searchIndexerName": "srch-indexer-copilot-demo-003",
  "searchIndexers": [
    {
      "IndexName": "srch-index-copilot-demo-003",
      "Name": "srch-indexer-copilot-demo-003",
      "Schema": "search-indexer-schema.json",
      "SkillSetName": "srch-skillset-copilot-demo-003"
    },
    {
      "IndexName": "vector-srch-index-copilot-demo-003",
      "Name": "vector-srch-indexer-copilot-demo-003",
      "Schema": "vector-search-indexer-schema.json",
      "SkillSetName": "vector-srch-skillset-copilot-demo-003"
    },
    {
      "IndexName": "embeddings-srch-index-copilot-demo-003",
      "Name": "embeddings-srch-indexer-copilot-demo-003",
      "Schema": "embeddings-search-indexer-schema.json",
      "SkillSetName": "embeddings-srch-skillset-copilot-demo-003"
    }
  ],
  "searchIndexes": [
    {
      "Model": "gpt-4o",
      "Name": "srch-index-copilot-demo-003",
      "Schema": "search-index-schema.json"
    },
    {
      "Model": "gpt-4o",
      "Name": "vector-srch-index-copilot-demo-003",
      "Schema": "vector-search-index-schema.json"
    },
    {
      "Model": "text-embedding-3-large",
      "Name": "embeddings-srch-index-copilot-demo-003",
      "Schema": "embeddings-search-index-schema.json"
    }
  ],
  "searchPublicInternetResults": true,
  "searchServiceApiVersion": "2024-11-01-Preview",
  "searchServiceName": "srch-copilot-demo-003",
  "searchServiceProperties": {
    "AIServicesResourceID": "",
    "ApiKey": "xxx",
    "ApiVersion": "2024-11-01-Preview",
    "Endpoint": "https://srch-copilot-demo-003.search.windows.net",
    "Name": "srch-copilot-demo-003",
    "Type": "azure_ai_search",
    "YamlFileName": "search.connection.yaml"
  },
  "searchSkillSetName": "srch-skillset-copilot-demo-003",
  "searchSkillSetSchema": "search-skillset-copilot-demo.json",
  "searchSkillSets": [
    {
      "File": "srch-skillset-copilot-demo.json",
      "Schema": {
        "@odata.etag": "\"0x8DCEFEA8DCAFAE0\"",
        "cognitiveServices": {
          "@odata.type": "#Microsoft.Azure.Search.CognitiveServicesByKey",
          "key": "bcf9c45063404ef1b36d124ce3c2b241"
        },
        "description": "Generic Skillset",
        "indexProjections": {
          "parameters": {
            "projectionMode": "skipIndexingParentDocuments"
          },
          "selectors": [
            {
              "mappings": [
                {
                  "name": "text_vector",
                  "source": "/document/pages/*/text_vector"
                },
                {
                  "name": "chunk",
                  "source": "/document/pages/*"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "text_parent_id",
              "sourceContext": "/document/pages/*",
              "targetIndexName": "vector-srch-index-copilot-demo-003"
            },
            {
              "mappings": [
                {
                  "name": "image_vector",
                  "source": "/document/normalized_images/*/image_vector"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "image_parent_id",
              "sourceContext": "/document/normalized_images/*",
              "targetIndexName": "vector-srch-index-copilot-demo-003"
            }
          ]
        },
        "name": "srch-skillset-copilot-demo-003",
        "skills": [
          {
            "@odata.type": "#Microsoft.Skills.Vision.OcrSkill",
            "context": "/document/normalized_images/*",
            "defaultLanguageCode": "en",
            "detectOrientation": true,
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "lineEnding": "Space",
            "name": "#1",
            "outputs": [
              {
                "name": "text",
                "targetName": "text"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.MergeSkill",
            "context": "/document",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/content"
              },
              {
                "inputs": [],
                "name": "itemsToInsert",
                "source": "/document/normalized_images/*/text"
              },
              {
                "inputs": [],
                "name": "offsets",
                "source": "/document/normalized_images/*/contentOffset"
              }
            ],
            "insertPostTag": " ",
            "insertPreTag": " ",
            "name": "#2",
            "outputs": [
              {
                "name": "mergedText",
                "targetName": "mergedText"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.SplitSkill",
            "context": "/document",
            "defaultLanguageCode": "en",
            "description": "Split skill to chunk documents",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/mergedText"
              }
            ],
            "maximumPageLength": 2000,
            "name": "#3",
            "outputs": [
              {
                "name": "textItems",
                "targetName": "pages"
              }
            ],
            "pageOverlapLength": 500,
            "textSplitMode": "pages"
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/pages/*",
            "description": "An AI Services Vision vectorization skill for text",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/pages/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#4",
            "outputs": [
              {
                "name": "vector",
                "targetName": "text_vector"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/normalized_images/*",
            "description": "An AI Services Vision vectorization skill for images",
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#5",
            "outputs": [
              {
                "name": "vector",
                "targetName": "image_vector"
              }
            ]
          }
        ]
      }
    },
    {
      "File": "vector-skillset-copilot-demo.json",
      "Schema": {
        "@odata.etag": "\"0x8DCEFEA8DCAFAE0\"",
        "cognitiveServices": {
          "@odata.type": "#Microsoft.Azure.Search.CognitiveServicesByKey",
          "key": "bcf9c45063404ef1b36d124ce3c2b241"
        },
        "description": "Skillset to chunk documents for vectorization.",
        "indexProjections": {
          "parameters": {
            "projectionMode": "skipIndexingParentDocuments"
          },
          "selectors": [
            {
              "mappings": [
                {
                  "name": "text_vector",
                  "source": "/document/pages/*/text_vector"
                },
                {
                  "name": "chunk",
                  "source": "/document/pages/*"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "text_parent_id",
              "sourceContext": "/document/pages/*",
              "targetIndexName": "vector-srch-index-copilot-demo-003"
            },
            {
              "mappings": [
                {
                  "name": "image_vector",
                  "source": "/document/normalized_images/*/image_vector"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "image_parent_id",
              "sourceContext": "/document/normalized_images/*",
              "targetIndexName": "vector-srch-index-copilot-demo-003"
            }
          ]
        },
        "name": "vector-srch-skillset-copilot-demo-003",
        "skills": [
          {
            "@odata.type": "#Microsoft.Skills.Vision.OcrSkill",
            "context": "/document/normalized_images/*",
            "defaultLanguageCode": "en",
            "detectOrientation": true,
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "lineEnding": "Space",
            "name": "#1",
            "outputs": [
              {
                "name": "text",
                "targetName": "text"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.MergeSkill",
            "context": "/document",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/content"
              },
              {
                "inputs": [],
                "name": "itemsToInsert",
                "source": "/document/normalized_images/*/text"
              },
              {
                "inputs": [],
                "name": "offsets",
                "source": "/document/normalized_images/*/contentOffset"
              }
            ],
            "insertPostTag": " ",
            "insertPreTag": " ",
            "name": "#2",
            "outputs": [
              {
                "name": "mergedText",
                "targetName": "mergedText"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.SplitSkill",
            "context": "/document",
            "defaultLanguageCode": "en",
            "description": "Split skill to chunk documents",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/mergedText"
              }
            ],
            "maximumPageLength": 2000,
            "name": "#3",
            "outputs": [
              {
                "name": "textItems",
                "targetName": "pages"
              }
            ],
            "pageOverlapLength": 500,
            "textSplitMode": "pages"
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/pages/*",
            "description": "An AI Services Vision vectorization skill for text",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/pages/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#4",
            "outputs": [
              {
                "name": "vector",
                "targetName": "text_vector"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/normalized_images/*",
            "description": "An AI Services Vision vectorization skill for images",
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#5",
            "outputs": [
              {
                "name": "vector",
                "targetName": "image_vector"
              }
            ]
          }
        ]
      }
    },
    {
      "File": "embeddings-skillset-copilot-demo.json",
      "Schema": {
        "@odata.etag": "\"0x8DCEFEA8DCAFAE0\"",
        "cognitiveServices": {
          "@odata.type": "#Microsoft.Azure.Search.CognitiveServicesByKey",
          "key": "bcf9c45063404ef1b36d124ce3c2b241"
        },
        "description": "Skillset to chunk documents and generate embeddings",
        "indexProjections": {
          "parameters": {
            "projectionMode": "skipIndexingParentDocuments"
          },
          "selectors": [
            {
              "mappings": [
                {
                  "name": "text_vector",
                  "source": "/document/pages/*/text_vector"
                },
                {
                  "name": "chunk",
                  "source": "/document/pages/*"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "text_parent_id",
              "sourceContext": "/document/pages/*",
              "targetIndexName": "vector-srch-index-copilot-demo-003"
            },
            {
              "mappings": [
                {
                  "name": "image_vector",
                  "source": "/document/normalized_images/*/image_vector"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "image_parent_id",
              "sourceContext": "/document/normalized_images/*",
              "targetIndexName": "vector-srch-index-copilot-demo-003"
            }
          ]
        },
        "name": "embeddings-srch-skillset-copilot-demo-003",
        "skills": [
          {
            "@odata.type": "#Microsoft.Skills.Vision.OcrSkill",
            "context": "/document/normalized_images/*",
            "defaultLanguageCode": "en",
            "detectOrientation": true,
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "lineEnding": "Space",
            "name": "#1",
            "outputs": [
              {
                "name": "text",
                "targetName": "text"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.MergeSkill",
            "context": "/document",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/content"
              },
              {
                "inputs": [],
                "name": "itemsToInsert",
                "source": "/document/normalized_images/*/text"
              },
              {
                "inputs": [],
                "name": "offsets",
                "source": "/document/normalized_images/*/contentOffset"
              }
            ],
            "insertPostTag": " ",
            "insertPreTag": " ",
            "name": "#2",
            "outputs": [
              {
                "name": "mergedText",
                "targetName": "mergedText"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.SplitSkill",
            "context": "/document",
            "defaultLanguageCode": "en",
            "description": "Split skill to chunk documents",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/mergedText"
              }
            ],
            "maximumPageLength": 2000,
            "name": "#3",
            "outputs": [
              {
                "name": "textItems",
                "targetName": "pages"
              }
            ],
            "pageOverlapLength": 500,
            "textSplitMode": "pages"
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/pages/*",
            "description": "An AI Services Vision vectorization skill for text",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/pages/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#4",
            "outputs": [
              {
                "name": "vector",
                "targetName": "text_vector"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/normalized_images/*",
            "description": "An AI Services Vision vectorization skill for images",
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#5",
            "outputs": [
              {
                "name": "vector",
                "targetName": "image_vector"
              }
            ]
          }
        ]
      }
    }
  ],
  "searchVectorIndexName": "vector-srch-index-copilot-demo-003",
  "searchVectorIndexerName": "vector-srch-indexer-copilot-demo-003",
  "serviceBusNamespaceName": "sb-copilot-demo-003",
  "sharedDashboardName": "dash-copilot-demo-003",
  "siteLogo": "default",
  "sqlServerName": "sql-copilot-demo-003",
  "storageAccountName": "stcopilotdemo003",
  "storageApiVersion": "2025-01-05",
  "storageServiceProperties": {
    "AccountName": "stcopilotdemo003",
    "ApiVersion": "2023-11-01",
    "ContainerName": "azureml",
    "Credentials": {
      "AccountKey": "xxx",
      "SasToken": "xxx"
    },
    "Name": "stcopilotdemo003",
    "Type": "azure_blob",
    "Url": "https://stcopilotdemo003.blob.core.windows.net/azureml",
    "YamlFileName": "storage.connection.yaml"
  },
  "subNet": [
    {
      "AddressPrefix": "10.0.1.0/24",
      "Description": "subnet-copilot-demo-003",
      "IPV4": [
        {
          "AddressRange": "",
          "IPV4AddressRange": "",
          "Size": "",
          "StartingAddress": ""
        }
      ],
      "IPV4Enabled": true,
      "IPV6": [
        {
          "AddressRange": "",
          "IPV4AddressRange": "",
          "Size": "",
          "StartingAddress": ""
        }
      ],
      "IPV6Enabled": false,
      "Name": "subnet-copilot-demo-003",
      "PrivateSubNet": true,
      "Security": [
        {
          "NATGateway": "NAT Gateway",
          "NetworkSecurityGroup": "NSG",
          "RouteTable": "Route Table"
        }
      ],
      "ServiceEndpoints": [
        {
          "Service": "Service",
          "ServiceName": "Service Name",
          "ServiceType": "Service Type"
        }
      ]
    }
  ],
  "subscriptionId": "00000000-0000-0000-0000-000000000000",
  "userAssignedIdentityName": "id-copilot-demo-003",
  "virtualNetwork": {
    "AddressPrefix": "",
    "AddressSpace": "",
    "Location": "east us",
    "Name": "vnet-copilot-demo-003",
    "ResourceGroup": "RG-COPILOT-DEMO-003",
    "Subnets": [
      {
        "Name": "subnet-copilot-demo-003"
      }
    ]
  }
}
