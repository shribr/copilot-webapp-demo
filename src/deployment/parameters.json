{
  "appendUniqueSuffix": false,
  "appDeploymentOnly": false,
  "currentFullResourceBaseName": "copilot-demo-008",
  "deploymentType": "Existing",
  "fullResourceBaseName": "copilot-demo-008",
  "previousFullResourceBaseName": "copilot-demo-009",
  "previousResourceBaseName": "copilot-demo",
  "resourceSuffix": 1,
  "resourceSuffixCounter": "008",
  "resourceBaseName": "copilot-demo",
  "aiHubConnections": [
    {
      "Name": "AIService"
    },
    {
      "Name": "OpenAIService"
    },
    {
      "Name": "StorageAccount"
    },
    {
      "Name": "SearchService"
    }
  ],
  "aiHub": {
    "Name": "hub-ai-copilot-demo-008",
    "Location": "east us",
    "Kind": "AzureAIHub",
    "Type": "Azure AI Hub"
  },
  "aiModels": [
    {
      "ApiKey": "xxx",
      "ApiVersion": "2024-08-01-preview",
      "Format": "OpenAI",
      "ModelVersion": "2024-08-06",
      "DeploymentName": "gpt-4o",
      "Location": "east us",
      "Sku": {
        "Capacity": 100,
        "Name": "GlobalStandard"
      },
      "Type": "gpt-4o",
      "Path": "chat/completions"
    },
    {
      "ApiKey": "xxx",
      "ApiVersion": "2023-05-15",
      "Format": "OpenAI",
      "ModelVersion": "1",
      "DeploymentName": "text-embedding",
      "Location": "east us",
      "Sku": {
        "Capacity": 100,
        "Name": "Standard"
      },
      "Type": "text-embedding-3-large",
      "Path": "images/generations"
    },
    {
      "ApiKey": "xxx",
      "ApiVersion": "2024-02-01",
      "Format": "OpenAI",
      "ModelVersion": "3.0",
      "DeploymentName": "dall-e-3",
      "Location": "east us",
      "Sku": {
        "Capacity": 2,
        "Name": "Standard"
      },
      "Type": "dall-e-3",
      "Path": "images/generations"
    }
  ],
  "aiProject": {
    "Name": "project-ai-copilot-demo-008",
    "Location": "east us"
  },
  "aiService": {
    "ApiKey": "5c25eb463aa8431588b6d0f22f0ba417",
    "ApiVersion": "2024-10-01",
    "Endpoint": "https://ai-service-copilot-demo-008.cognitiveservices.azure.com/",
    "Location": "east us",
    "Name": "ai-service-copilot-demo-008",
    "ConnectionName": "azure_ai_services",
    "Description": "Azure AI Service",
    "Type": "CognitiveService",
    "Kind": "AIServices",
    "Sku": "S0",
    "YamlFileName": "ai.connection.yaml"
  },
  "answerGenerationConfig": {
    "ExcludeCategories": "[]",
    "IncludedDataSources": {
      "AzureStorage": false,
      "FileShare": false,
      "RelationalDatabase": false,
      "Spreadsheet": false,
      "StructuredData": false
    },
    "NumDocsToRetrieve": 5,
    "OverridePromptTemplate": "false",
    "RetrievalModel": [
      "text",
      "hybrid",
      "vector"
    ],
    "SuggestFollowupQuestions": "true",
    "UseQueryContextualSummaries": "true",
    "UseSemanticRankerForRetrieval": "true"
  },
  "apiManagementService": {
    "ApiId": "Standard",
    "Display": "apim-copilot-demo-008",
    "Location": "east us",
    "Name": "apim-copilot-demo-008",
    "Path": "/path",
    "Type": "Api Management",
    "Kind": "api_management",
    "PublisherEmail": "amschrei@microsoft.com",
    "PublisherName": "Ami Schreiber",
    "ResourceGroup": "RG-copilot-demo-008",
    "SubscriptionKey": "4da6fa1779a347f88e1b37f6cf0c1295"
  },
  "appRegistrationClientId": "027ad1e8-22d4-4761-808b-6c5de6cef4d0",
  "appRegRequiredResourceAccess": [
    {
      "resourceAppId": "cfa8b339-82a2-471a-a3c9-0fc0be7a4093",
      "resourceAccess": [
        {
          "id": "f53da476-18e3-4152-8e01-aec403e6edc0",
          "type": "Scope"
        }
      ]
    },
    {
      "resourceAppId": "00000008-0000-0000-c000-000000000000",
      "resourceAccess": [
        {
          "id": "e1fe6dd8-ba31-4d61-89e7-88639da4683d",
          "type": "Scope"
        },
        {
          "id": "df85f4d6-205c-4ac5-a5ea-6bf408dba283",
          "type": "Scope"
        },
        {
          "id": "76bc735e-aecd-4a1d-8b4c-2b915deabb79",
          "type": "Scope"
        },
        {
          "id": "205e70e5-aba6-4c52-a976-6d2d46c48043",
          "type": "Scope"
        },
        {
          "id": "f89c84ef-20d0-4b54-87e9-02e856d66d53",
          "type": "Scope"
        }
      ]
    }
  ],
  "appInsightsService": {
    "Name": "appi-copilot-demo-008",
    "Location": "east us"
  },
  "appServiceEnvironment": {
    "Name": "ase-copilot-demo-008"
  },
  "appServicePlan": {
    "Name": "asp-copilot-demo-008",
    "Sku": "B1",
    "Location": "east us"
  },
  "appServices": [
    {
      "Name": "app-copilot-demo-008",
      "AppServicePlan": "asp-copilot-demo-008",
      "DeletePackageAfterDeploy": true,
      "DeployZipPackage": true,
      "Location": "east us",
      "Path": "app/frontend",
      "ResourceGroup": "RG-copilot-demo-008",
      "Runtime": "NODE:20LTS",
      "Type": "Web",
      "Url": "https://app-copilot-demo-008.azurewebsites.net"
    },
    {
      "Name": "func-copilot-demo-008",
      "AppServicePlan": "asp-copilot-demo-008",
      "DeletePackageAfterDeploy": true,
      "DeployZipPackage": true,
      "Location": "east us",
      "Path": "app/functions/apikeys",
      "ResourceGroup": "RG-copilot-demo-008",
      "Runtime": "dotnet-isolated",
      "Type": "Function",
      "Url": "https://func-copilot-demo-008.azurewebsites.net"
    }
  ],
  "appTitle": "Chat with Microsoft Copilot",
  "azureManagement": {
    "ApiVersion": "2024-06-01-Preview",
    "Url": "https://management.azure.com"
  },
  "bingSearchService": {
    "Name": "bing-ai-copilot-demo-008",
    "Description": "Bing Search Service",
    "Endpoint": "https://api.bing.microsoft.com/",
    "ApiKey": "05a9f168da5744eca7e0484fb7daa15f",
    "ApiVersion": "v7.0",
    "Path": "search"
  },
  "chatPersonas": [
    {
      "Description": "You are a teenage girl who is very passionate about fashion and beauty. You love to share your thoughts and opinions on the latest trends and products. You are also very creative and love to express yourself through art and music.",
      "Prompt": "You are a teenage girl. You are very perky and enthusiastic.",
      "Type": "Teenage Girl"
    },
    {
      "Description": "You are a New Yorker who loves to talk about the latest news and events in the city. You are very knowledgeable about the local culture and history. You are also very friendly and love to meet new people.",
      "Prompt": "You are a stereotypical guy from Long Island, New York.",
      "Type": "New Yorker"
    },
    {
      "Description": "You are a tech enthusiast who loves to talk about the latest tech trends and gadgets. You are very knowledgeable about the latest tech news and tips. You are also very friendly and love to meet new people.",
      "Prompt": "You area a tech enthusiast who is snarky, obnoxious, sarcastic and condescending.",
      "Type": "Tech Enthusiast"
    },
    {
      "Description": "You are a foodie who loves to talk about the latest food trends and recipes. You are very knowledgeable about the latest restaurants and cafes in the city. You are also very friendly and love to meet new people.",
      "Prompt": "You are a foodie who is constantly comparing every topic to food.",
      "Type": "Foodie"
    },
    {
      "Description": "You are a world traveler who loves to talk about the latest travel trends and destinations. You are very knowledgeable about the latest travel tips and tricks. You are also very friendly and love to meet new people.",
      "Prompt": "You are a world traveler who can't stop talking about her vacations",
      "Type": "Traveler"
    },
    {
      "Description": "You are a fitness enthusiast who loves to talk about the latest fitness trends and workouts. You are very knowledgeable about the latest fitness tips and tricks. You are also very friendly and love to meet new people.",
      "Prompt": "You are a fitness enthusiast and are always bragging about your workouts.",
      "Type": "Fitness Enthusiast"
    },
    {
      "Description": "You are a business professional who loves to talk about the latest business trends and strategies. You are very knowledgeable about the latest business tips and tricks. You are also very friendly and love to meet new people.",
      "Prompt": "You are a business professional and are always talking about how you're doing in the stock market.",
      "Type": "Business Professional"
    },
    {
      "Description": "You are a helpful assistant who loves to help people with their questions and problems. You are very knowledgeable and love to share your knowledge with others.",
      "Prompt": "You are a helpful assistant.",
      "Type": "Default"
    }
  ],
  "cognitiveService": {
    "Name": "cog-copilot-demo-008",
    "ApiKey": "xxx",
    "ApiVersion": "2024-10-01",
    "ConnectionName": "azure_cognitive",
    "Description": "Cognitive Service",
    "Location": "east us",
    "Sku": "S0",
    "Type": "CognitiveService",
    "Kind": "CognitiveServices"
  },
  "computerVisionService": {
    "Name": "cv-copilot-demo-008",
    "ApiKey": "xxx",
    "ApiVersion": "2024-10-01",
    "ConnectionName": "azure_computer_vision",
    "Description": "Computer Vision Service",
    "Location": "east us",
    "Sku": "S1",
    "Type": "CognitiveService",
    "Kind": "ComputerVision"
  },
  "configFilePath": "app/frontend/config.json",
  "containerRegistry": {
    "Description": "",
    "Location": "east us",
    "Name": "crcopilotdemo008",
    "ReplicationLocations": {
      "Location1": "",
      "Location2": "",
      "Location3": ""
    },
    "Tags": {
      "Description": ""
    },
    "YamlFileName": "container.registry.yaml"
  },
  "createResourceGroup": true,
  "deleteResourceGroup": false,
  "deployApiManagementService": true,
  "deployZipResources": true,
  "documentIntelligenceService": {
    "Name": "docintel-copilot-demo-008",
    "ApiKey": "xxx",
    "ApiVersion": "2024-10-01",
    "ConnectionName": "azure_doc_intelligence",
    "Description": "Document Intelligence Service",
    "Location": "east us",
    "Type": "CognitiveService",
    "Kind": "FormRecognizer",
    "Sku": "S0"
  },
  "domainName": "azurewebsites.net",
  "exposeApiScopes": [
    {
      "adminConsentDescription": "Allow the application to access the API on behalf of the signed-in user.",
      "adminConsentDisplayName": "Access API as user",
      "userConsentDescription": "Allow the application to access the API on your behalf.",
      "userConsentDisplayName": "Access API as user",
      "value": "access_as_user"
    },
    {
      "adminConsentDescription": "Allow the application to read data from the API.",
      "adminConsentDisplayName": "Read data from API",
      "userConsentDescription": "Allow the application to read data from the API on your behalf.",
      "userConsentDisplayName": "Read data from API",
      "value": "read_data"
    }
  ],
  "installRequiredExtensionsOnly": true,
  "keyVault": {
    "Name": "kv-copilot-demo-008",
    "Description": "Key Vault",
    "ApiVersion": "7.5",
    "PermissionModel": "VaultAccessPolicy",
    "Location": "east us",
    "Type": "KeyVault",
    "UseRBAC": false,
    "userAssignedIdentityName": "id-copilot-demo-008"
  },
  "keyVaultProxyOperations": [
    {
      "Name": "GetOpenAIServiceApiKey",
      "DisplayName": "Get OpenAI Service API Key",
      "Method": "GET",
      "UrlTemplate": "/secrets/OpenAIServiceApiKey"
    },
    {
      "Name": "GetSearchServiceApiKey",
      "DisplayName": "Get Search Service API Key",
      "Method": "GET",
      "UrlTemplate": "/secrets/SearchServiceApiKey"
    },
    {
      "Name": "GetStorageServiceApiKey",
      "DisplayName": "Get Storage Service API Key",
      "Method": "GET",
      "UrlTemplate": "/secrets/StorageServiceApiKey"
    }
  ],
  "keyVaultSecrets": [
    {
      "Name": "StorageServiceApiKey",
      "Value": "xxx"
    },
    {
      "Name": "SearchServiceApiKey",
      "Value": "xxx"
    },
    {
      "Name": "OpenAIServiceApiKey",
      "Value": "xxx"
    }
  ],
  "location": "east us",
  "logAnalyticsWorkspace": {
    "Name": "log-copilot-demo-008",
    "Location": "east us"
  },
  "machineLearningService": {
    "ApplicationInsightsName": "appi-copilot-demo-008",
    "ContainerRegistryName": "crcopilotdemo008",
    "Description": "This configuration specifies a project configuration with existing dependent resources",
    "DisplayName": "AI Hub Copilot Demo Project",
    "KeyVaultName": "kv-copilot-demo-008",
    "Location": "east us",
    "Name": "ml-copilot-demo-008",
    "StorageAccountName": "stcopilotdemo008",
    "Tags": {
      "Purpose": ""
    },
    "YamlFileName": "ai.project.yaml"
  },
  "managedIdentity": {
    "Name": "id-copilot-demo-008"
  },
  "openAIService": {
    "ApiKey": "f622a933e72049049ac0af3dcfd90db1",
    "ApiVersion": "2024-10-01",
    "Endpoint": "https://openai-service-copilot-demo-008.openai.azure.com/",
    "Location": "east us",
    "Name": "openai-service-copilot-demo-008",
    "ConnectionName": "azure_open_ai",
    "Description": "OpenAI Service",
    "Type": "CognitiveService",
    "Kind": "OpenAI",
    "Sku": "S0",
    "YamlFileName": "openai.connection.yaml"
  },
  "organizationInfo": {
    "Contact": {
      "Email": "",
      "Name": "Ami Schreiber",
      "Phone": ""
    },
    "Description": "Contoso is a software company that specializes in AI and ML solutions.",
    "Location": {
      "Address": "One Microsoft Way",
      "City": "Redmond",
      "Country": "USA",
      "State": "WA",
      "Zip": "98052"
    },
    "Name": "Contoso",
    "Social": {
      "Facebook": "",
      "GitHub": "",
      "Instagram": "",
      "LinkedIn": "https://www.linkedin.com/in/amischreiber/",
      "Twitter": "https://twitter.com/amschrei"
    },
    "Website": "https://www.contoso.com"
  },
  "privateEndpoints": [
    {
      "Location": "east us",
      "Name": "pe-copilot-demo-008",
      "PrivateConnection": {
        "Name": "pc-copilot-demo-008",
        "PrivateConnectionDescription": "Private connection to SQL Server",
        "PrivateConnectionName": "pc-copilot-demo-008",
        "PrivateConnectionStatus": "Approved",
        "PrivateConnectionType": "sql"
      },
      "ResourceGroup": "RG-copilot-demo-008",
      "Subnet": "subnet-copilot-demo-008"
    }
  ],
  "redeployResources": false,
  "redisCacheName": "redis-copilot-demo-008",
  "resourceGroup": {
    "Name": "RG-COPILOT-DEMO-008",
    "Location": "east us"
  },
  "resourceGroupName": "RG-COPILOT-DEMO-008",
  "restoreSoftDeletedResources": true,
  "resourceTypes": [
    "Microsoft.ApiManagement",
    "Microsoft.CognitiveServices/accounts",
    "Microsoft.ContainerRegistry",
    "Microsoft.ContainerRegistry/registries",
    "Microsoft.DataFactory/factories",
    "Microsoft.DocumentDB/databaseAccounts",
    "Microsoft.KeyVault/vaults",
    "Microsoft.Network/virtualNetworks",
    "Microsoft.Network/virtualNetworks/subnets",
    "Microsoft.Search/searchServices",
    "Microsoft.Sql/servers",
    "Microsoft.Storage/storageAccounts",
    "Microsoft.Web/hostingEnvironments",
    "Microsoft.Web/serverFarms",
    "Microsoft.Web/sites",
    "microsoft.alertsmanagement/alerts",
    "microsoft.insights/actiongroups"
  ],
  "searchDataSourcesApiVersion": "2024-07-01",
  "searchDataSources": [
    {
      "Name": "srch-datasource-blob-copilot-demo-008",
      "ContainerName": "content",
      "ChangeDetectionPolicy": {
        "HighWaterMarkColumnName": "last_modified",
        "HighWaterMarkType": "HighWaterMarkChangeDetectionPolicy",
        "HighWaterMarkValue": "2022-01-01T00:00:00Z"
      },
      "DataDeleteDetectionPolicy": {
        "SoftDeleteColumnName": "is_deleted",
        "SoftDeleteMarkerValue": "true",
        "SoftDeletePolicy": "SoftDeleteColumn"
      },
      "Query": "*",
      "Schema": "search-datasource-blob-schema.json",
      "Type": "azureblob",
      "Url": "https://stcopilotdemo008.blob.core.windows.net/content",
      "YamlFileName": "search.datasource.blob.yaml"
    },
    {
      "Name": "srch-datasource-sharepoint-copilot-demo-008",
      "ContainerName": "defaultSiteLibrary",
      "ChangeDetectionPolicy": {
        "HighWaterMarkColumnName": "last_modified",
        "HighWaterMarkType": "HighWaterMarkChangeDetectionPolicy",
        "HighWaterMarkValue": "2022-01-01T00:00:00Z"
      },
      "DataDeleteDetectionPolicy": {
        "SoftDeleteColumnName": "is_deleted",
        "SoftDeleteMarkerValue": "true",
        "SoftDeletePolicy": "SoftDeleteColumn"
      },
      "Query": null,
      "Schema": "search-datasource-sharepoint-schema.json",
      "Type": "sharepoint",
      "Url": "https://fedairs.sharepoint.com/sites/MicrosoftCopilotDemo",
      "RestUrl": "https://graph.microsoft.com/v1.0/sites/fedairs.sharepoint.com:/sites/MicrosoftCopilotDemo",
      "ListUrl": "https://graph.microsoft.com/v1.0/sites/{64290738-5830-4b8b-8447-1d77f666421b}/lists/f977d36f-f1a0-420c-9209-bf44b08fb40a/items",
      "YamlFileName": "search.datasource.sharepoint.yaml"
    }
  ],
  "searchIndexFieldNames": "id,content,category,sourcepage,sourcefile,embedding",
  "searchIndexers": [
    {
      "IndexName": "srch-index-copilot-demo-008",
      "Name": "srch-indexer-copilot-demo-008",
      "Schema": "search-indexer-schema.json",
      "SkillSetName": "srch-skillset-copilot-demo-008",
      "Schedule": "0 0 0 * * *",
      "DataSourceName": "srch-datasource-blob-copilot-demo-008",
      "Active": true
    },
    {
      "IndexName": "vector-srch-index-copilot-demo-008",
      "Name": "vector-srch-indexer-copilot-demo-008",
      "Schema": "vector-search-indexer-schema.json",
      "SkillSetName": "vector-srch-skillset-copilot-demo-008",
      "Schedule": "0 0 0 * * *",
      "DataSourceName": "srch-datasource-blob-copilot-demo-008",
      "Active": true
    },
    {
      "IndexName": "embeddings-srch-index-copilot-demo-008",
      "Name": "embeddings-srch-indexer-copilot-demo-008",
      "Schema": "embeddings-search-indexer-schema.json",
      "SkillSetName": "embeddings-srch-skillset-copilot-demo-008",
      "Schedule": "0 0 0 * * *",
      "DataSourceName": "srch-datasource-blob-copilot-demo-008",
      "Active": true
    },
    {
      "IndexName": "sharepoint-srch-index-copilot-demo-008",
      "Name": "sharepoint-srch-indexer-copilot-demo-008",
      "Schema": "sharepoint-search-indexer-schema.json",
      "SkillSetName": "",
      "Schedule": "0 0 0 * * *",
      "DataSourceName": "srch-datasource-sharepoint-copilot-demo-008",
      "Active": false
    }
  ],
  "searchIndexes": [
    {
      "Model": "gpt-4o",
      "Name": "srch-index-copilot-demo-008",
      "Schema": "search-index-schema.json"
    },
    {
      "Model": "gpt-4o",
      "Name": "vector-srch-index-copilot-demo-008",
      "Schema": "vector-search-index-schema.json"
    },
    {
      "Model": "text-embedding-3-large",
      "Name": "embeddings-srch-index-copilot-demo-008",
      "Schema": "embeddings-search-index-schema.json"
    },
    {
      "Model": "gpt-4o",
      "Name": "sharepoint-srch-index-copilot-demo-008",
      "Schema": "sharepoint-search-index-schema.json"
    }
  ],
  "searchPublicInternetResults": true,
  "searchRestApiVersion": "2024-07-01",
  "searchService": {
    "AIServicesResourceID": "",
    "ApiKey": "xxx",
    "ApiVersion": "2024-11-01-Preview",
    "Endpoint": "https://srch-copilot-demo-008.search.windows.net",
    "Location": "east us",
    "Name": "srch-copilot-demo-008",
    "Sku": "basic",
    "Type": "azure_ai_search",
    "YamlFileName": "search.connection.yaml"
  },
  "searchSkillSetName": "srch-skillset-copilot-demo-008",
  "searchSkillSetSchema": "search-skillset-copilot-demo.json",
  "searchSkillSets": [
    {
      "File": "srch-skillset-copilot-demo.json",
      "Schema": {
        "@odata.etag": "\"0x8DCEFEA8DCAFAE0\"",
        "cognitiveServices": {
          "@odata.type": "#Microsoft.Azure.Search.CognitiveServicesByKey",
          "key": "bcf9c45063404ef1b36d124ce3c2b241"
        },
        "description": "Generic Skillset",
        "indexProjections": {
          "parameters": {
            "projectionMode": "skipIndexingParentDocuments"
          },
          "selectors": [
            {
              "mappings": [
                {
                  "name": "text_vector",
                  "source": "/document/pages/*/text_vector"
                },
                {
                  "name": "chunk",
                  "source": "/document/pages/*"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "text_parent_id",
              "sourceContext": "/document/pages/*",
              "targetIndexName": "vector-srch-index-copilot-demo-008"
            },
            {
              "mappings": [
                {
                  "name": "image_vector",
                  "source": "/document/normalized_images/*/image_vector"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "image_parent_id",
              "sourceContext": "/document/normalized_images/*",
              "targetIndexName": "vector-srch-index-copilot-demo-008"
            }
          ]
        },
        "name": "srch-skillset-copilot-demo-008",
        "skills": [
          {
            "@odata.type": "#Microsoft.Skills.Vision.OcrSkill",
            "context": "/document/normalized_images/*",
            "defaultLanguageCode": "en",
            "detectOrientation": true,
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "lineEnding": "Space",
            "name": "#1",
            "outputs": [
              {
                "name": "text",
                "targetName": "text"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.MergeSkill",
            "context": "/document",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/content"
              },
              {
                "inputs": [],
                "name": "itemsToInsert",
                "source": "/document/normalized_images/*/text"
              },
              {
                "inputs": [],
                "name": "offsets",
                "source": "/document/normalized_images/*/contentOffset"
              }
            ],
            "insertPostTag": " ",
            "insertPreTag": " ",
            "name": "#2",
            "outputs": [
              {
                "name": "mergedText",
                "targetName": "mergedText"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.SplitSkill",
            "context": "/document",
            "defaultLanguageCode": "en",
            "description": "Split skill to chunk documents",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/mergedText"
              }
            ],
            "maximumPageLength": 2000,
            "name": "#3",
            "outputs": [
              {
                "name": "textItems",
                "targetName": "pages"
              }
            ],
            "pageOverlapLength": 500,
            "textSplitMode": "pages"
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/pages/*",
            "description": "An AI Services Vision vectorization skill for text",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/pages/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#4",
            "outputs": [
              {
                "name": "vector",
                "targetName": "text_vector"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/normalized_images/*",
            "description": "An AI Services Vision vectorization skill for images",
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#5",
            "outputs": [
              {
                "name": "vector",
                "targetName": "image_vector"
              }
            ]
          }
        ]
      }
    },
    {
      "File": "vector-skillset-copilot-demo.json",
      "Schema": {
        "@odata.etag": "\"0x8DCEFEA8DCAFAE0\"",
        "cognitiveServices": {
          "@odata.type": "#Microsoft.Azure.Search.CognitiveServicesByKey",
          "key": "bcf9c45063404ef1b36d124ce3c2b241"
        },
        "description": "Skillset to chunk documents for vectorization.",
        "indexProjections": {
          "parameters": {
            "projectionMode": "skipIndexingParentDocuments"
          },
          "selectors": [
            {
              "mappings": [
                {
                  "name": "text_vector",
                  "source": "/document/pages/*/text_vector"
                },
                {
                  "name": "chunk",
                  "source": "/document/pages/*"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "text_parent_id",
              "sourceContext": "/document/pages/*",
              "targetIndexName": "vector-srch-index-copilot-demo-008"
            },
            {
              "mappings": [
                {
                  "name": "image_vector",
                  "source": "/document/normalized_images/*/image_vector"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "image_parent_id",
              "sourceContext": "/document/normalized_images/*",
              "targetIndexName": "vector-srch-index-copilot-demo-008"
            }
          ]
        },
        "name": "vector-srch-skillset-copilot-demo-008",
        "skills": [
          {
            "@odata.type": "#Microsoft.Skills.Vision.OcrSkill",
            "context": "/document/normalized_images/*",
            "defaultLanguageCode": "en",
            "detectOrientation": true,
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "lineEnding": "Space",
            "name": "#1",
            "outputs": [
              {
                "name": "text",
                "targetName": "text"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.MergeSkill",
            "context": "/document",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/content"
              },
              {
                "inputs": [],
                "name": "itemsToInsert",
                "source": "/document/normalized_images/*/text"
              },
              {
                "inputs": [],
                "name": "offsets",
                "source": "/document/normalized_images/*/contentOffset"
              }
            ],
            "insertPostTag": " ",
            "insertPreTag": " ",
            "name": "#2",
            "outputs": [
              {
                "name": "mergedText",
                "targetName": "mergedText"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.SplitSkill",
            "context": "/document",
            "defaultLanguageCode": "en",
            "description": "Split skill to chunk documents",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/mergedText"
              }
            ],
            "maximumPageLength": 2000,
            "name": "#3",
            "outputs": [
              {
                "name": "textItems",
                "targetName": "pages"
              }
            ],
            "pageOverlapLength": 500,
            "textSplitMode": "pages"
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/pages/*",
            "description": "An AI Services Vision vectorization skill for text",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/pages/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#4",
            "outputs": [
              {
                "name": "vector",
                "targetName": "text_vector"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/normalized_images/*",
            "description": "An AI Services Vision vectorization skill for images",
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#5",
            "outputs": [
              {
                "name": "vector",
                "targetName": "image_vector"
              }
            ]
          }
        ]
      }
    },
    {
      "File": "embeddings-skillset-copilot-demo.json",
      "Schema": {
        "@odata.etag": "\"0x8DCEFEA8DCAFAE0\"",
        "cognitiveServices": {
          "@odata.type": "#Microsoft.Azure.Search.CognitiveServicesByKey",
          "key": "bcf9c45063404ef1b36d124ce3c2b241"
        },
        "description": "Skillset to chunk documents and generate embeddings",
        "indexProjections": {
          "parameters": {
            "projectionMode": "skipIndexingParentDocuments"
          },
          "selectors": [
            {
              "mappings": [
                {
                  "name": "text_vector",
                  "source": "/document/pages/*/text_vector"
                },
                {
                  "name": "chunk",
                  "source": "/document/pages/*"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "text_parent_id",
              "sourceContext": "/document/pages/*",
              "targetIndexName": "vector-srch-index-copilot-demo-008"
            },
            {
              "mappings": [
                {
                  "name": "image_vector",
                  "source": "/document/normalized_images/*/image_vector"
                },
                {
                  "name": "metadata_storage_path",
                  "source": "/document/metadata_storage_path"
                },
                {
                  "name": "title",
                  "source": "/document/title"
                }
              ],
              "parentKeyFieldName": "image_parent_id",
              "sourceContext": "/document/normalized_images/*",
              "targetIndexName": "vector-srch-index-copilot-demo-008"
            }
          ]
        },
        "name": "embeddings-srch-skillset-copilot-demo-008",
        "skills": [
          {
            "@odata.type": "#Microsoft.Skills.Vision.OcrSkill",
            "context": "/document/normalized_images/*",
            "defaultLanguageCode": "en",
            "detectOrientation": true,
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "lineEnding": "Space",
            "name": "#1",
            "outputs": [
              {
                "name": "text",
                "targetName": "text"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.MergeSkill",
            "context": "/document",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/content"
              },
              {
                "inputs": [],
                "name": "itemsToInsert",
                "source": "/document/normalized_images/*/text"
              },
              {
                "inputs": [],
                "name": "offsets",
                "source": "/document/normalized_images/*/contentOffset"
              }
            ],
            "insertPostTag": " ",
            "insertPreTag": " ",
            "name": "#2",
            "outputs": [
              {
                "name": "mergedText",
                "targetName": "mergedText"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Text.SplitSkill",
            "context": "/document",
            "defaultLanguageCode": "en",
            "description": "Split skill to chunk documents",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/mergedText"
              }
            ],
            "maximumPageLength": 2000,
            "name": "#3",
            "outputs": [
              {
                "name": "textItems",
                "targetName": "pages"
              }
            ],
            "pageOverlapLength": 500,
            "textSplitMode": "pages"
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/pages/*",
            "description": "An AI Services Vision vectorization skill for text",
            "inputs": [
              {
                "inputs": [],
                "name": "text",
                "source": "/document/pages/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#4",
            "outputs": [
              {
                "name": "vector",
                "targetName": "text_vector"
              }
            ]
          },
          {
            "@odata.type": "#Microsoft.Skills.Vision.VectorizeSkill",
            "context": "/document/normalized_images/*",
            "description": "An AI Services Vision vectorization skill for images",
            "inputs": [
              {
                "inputs": [],
                "name": "image",
                "source": "/document/normalized_images/*"
              }
            ],
            "modelVersion": "2023-04-15",
            "name": "#5",
            "outputs": [
              {
                "name": "vector",
                "targetName": "image_vector"
              }
            ]
          }
        ]
      }
    }
  ],
  "siteLogo": "default",
  "storageService": {
    "AccountName": "stcopilotdemo008",
    "Location": "east us",
    "ApiVersion": "2025-01-05",
    "ContainerName": "content",
    "Kind": "StorageV2",
    "Sku": "Standard_LRS",
    "Credentials": {
      "AccountKey": "xxx",
      "SasToken": "xxx"
    },
    "Name": "stcopilotdemo008",
    "Type": "azure_blob",
    "Url": "https://stcopilotdemo008.blob.core.windows.net/azureml",
    "YamlFileName": "storage.connection.yaml"
  },
  "subNet": [
    {
      "AddressPrefix": "10.0.1.0/24",
      "Description": "subnet-copilot-demo-008",
      "IPV4": [
        {
          "AddressRange": "",
          "IPV4AddressRange": "",
          "Size": "",
          "StartingAddress": ""
        }
      ],
      "IPV4Enabled": true,
      "IPV6": [
        {
          "AddressRange": "",
          "IPV4AddressRange": "",
          "Size": "",
          "StartingAddress": ""
        }
      ],
      "IPV6Enabled": false,
      "Name": "subnet-copilot-demo-008",
      "PrivateSubNet": true,
      "Security": [
        {
          "NATGateway": "NAT Gateway",
          "NetworkSecurityGroup": "NSG",
          "RouteTable": "Route Table"
        }
      ],
      "ServiceEndpoints": [
        {
          "Service": "Service",
          "ServiceName": "Service Name",
          "ServiceType": "Service Type"
        }
      ]
    }
  ],
  "subscriptionId": "00000000-0000-0000-0000-000000000000",
  "userAssignedIdentity": {
    "Name": "id-copilot-demo-008",
    "Location": "east us"
  },
  "virtualNetwork": {
    "AddressPrefix": "",
    "AddressSpace": "",
    "Location": "east us",
    "Name": "vnet-copilot-demo-008",
    "ResourceGroup": "RG-copilot-demo-008",
    "Subnets": [
      {
        "Name": "subnet-copilot-demo-008"
      }
    ]
  }
}
